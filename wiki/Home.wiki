#summary Utility that creates DDL scripts for existing Oracle schema.

= Introduction =

Very often developers need to have scripts for all database objects (Tables, Views, Procedures etc.). It is not a problem to create them from existing instance using any tool you like (TOAD (tm), PL/SQL developer (tm)). However it's not so simply to make this process automated.

In the most recent project I was participating, there was a problem - database consists of couple thousands objects, and there were no repository for those except database itself. Means, if sometime server will die - weekly dump is the only way to restore information. Make everyone keep their scripts in SVN not works, because at the end of time - developers runs their script against database and there is no guarantee, they will not modify them just before execution.

So the only compromise solution was - reverse tracking. Every certain period of time some process should mine throught the database, detect all changes made to its structure and present it as bunch of scripts, ready to be commited to SVN.

This is what this project was created for. The aim is to create an utility, that will run through the datatabase and create scripts for all objects. 


= Details =

Utility organized as jar file and ant script. Substituting build.properties file you configure database link and desired folder to put generated scripts to.

== Some key features ==
  * Utility takes the last non-phantom revision in specified folder and tries to locate last DDL timestamp in SVN comment to that revision. It expects timestamp in following format: `yyyy.MM.dd.HH.mm.ss.SSS`. If none located it fetchs DDL  for all objects. If timestamp was located - it generated only those objects, for which LAST_DDL_TIME value is greater then timestamp. This allows remove overhead of regenerating DDL for unchanged objects.

  * Once Object DDL scripts are generated and saved - utility adds all prevoiusly non-existing script files to SVN using `svn add` and commits with comment message consisting of MAX(LAST_DDL_TIME) of all objects in specified schemas.